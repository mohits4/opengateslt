<?php


class Mo_OAuth_Hanlder
{
    private $refresh_token;
    private $expiry;
    function getToken($Yn, $ZW, $gv, $ea, $GK, $n6, $cS, $uN, $I6)
    {
        $iY = array();
        if ($ZW == "\160\x61\x73\163\x77\157\x72\x64") {
            goto mBa;
        }
        $iY = array("\x72\x65\144\x69\x72\145\x63\164\x5f\165\x72\151" => $n6, "\147\x72\141\156\x74\x5f\x74\171\x70\x65" => $ZW, "\x63\154\151\x65\x6e\x74\137\151\144" => $gv, "\x63\x6c\x69\145\156\x74\x5f\x73\145\143\x72\145\x74" => $ea, "\143\x6f\x64\x65" => $GK);
        goto gta;
        mBa:
        $iY = array("\162\145\144\x69\162\145\143\x74\137\165\x72\151" => $n6, "\147\x72\141\x6e\x74\137\x74\x79\x70\145" => $ZW, "\x75\163\x65\x72\x6e\141\x6d\145" => $cS, "\x70\x61\163\163\167\157\x72\144" => $uN);
        gta:
        $nc = array("\101\x63\143\x65\160\x74" => "\x61\160\160\154\x69\x63\141\x74\x69\x6f\156\x2f\x6a\x73\157\156", "\143\x68\141\162\163\145\164" => "\x55\124\106\x20\x2d\x20\x38", "\x41\165\x74\150\x6f\x72\151\x7a\x61\164\151\157\156" => "\x42\141\163\151\143\x20" . base64_encode($gv . "\x3a" . $ea), "\x73\x73\154\166\x65\162\151\146\x79" => false);
        $V1 = array("\155\x65\x74\150\x6f\x64" => "\x50\x4f\123\x54", "\x62\x6f\x64\x79" => $iY, "\x74\x69\x6d\x65\157\x75\x74" => "\x35", "\x72\x65\x64\151\162\145\x63\164\x69\x6f\x6e" => "\x35", "\150\164\164\x70\x76\145\162\163\151\157\156" => "\x31\x2e\60", "\142\154\157\143\x6b\151\x6e\x67" => true, "\150\145\x61\144\x65\162\x73" => $nc, "\x63\157\157\153\x69\x65\x73" => array());
        $Dx = wp_remote_post($Yn, $V1);
        if (!is_wp_error($Dx)) {
            goto rI3;
        }
        $iH = $Dx->get_error_message();
        echo "\123\157\x6d\145\x74\150\151\x6e\x67\40\x77\145\156\164\x20\167\162\x6f\156\147\x3a\40{$iH}";
        die;
        rI3:
        if (is_array(json_decode($Dx["\142\x6f\x64\171"], true))) {
            goto keh;
        }
        print_r($Dx);
        die("\111\156\x76\x61\154\151\x64\x20\162\x65\163\160\157\x6e\163\145\40\x72\145\x63\145\151\166\145\144\40\147\145\x74\x74\x69\156\147\40\141\143\143\145\x73\x73\137\x74\157\x6b\145\x6e\40\x66\162\x6f\155\x20\x75\x72\x6c\40" . $Yn);
        keh:
        $yZ = json_decode($Dx["\x62\157\x64\171"], true);
        if (!$I6) {
            goto qB3;
        }
        if (isset($yZ["\145\x72\x72\x6f\x72\x5f\144\x65\x73\x63\162\x69\160\x74\151\157\x6e"])) {
            goto L2O;
        }
        if (!isset($yZ["\145\x72\x72\157\162"])) {
            goto tEu;
        }
        print_r($Dx);
        die($yZ["\145\x72\x72\x6f\x72"]);
        tEu:
        goto XSC;
        L2O:
        print_r($Dx);
        die($yZ["\x65\162\162\157\162\137\144\145\163\143\x72\151\x70\x74\x69\x6f\156"]);
        XSC:
        qB3:
        if (!(isset($yZ["\x72\145\x66\x72\x65\x73\x68\x5f\164\157\153\145\x6e"]) && $yZ["\162\145\x66\162\x65\163\150\x5f\x74\x6f\153\145\x6e"] !== '')) {
            goto VI9;
        }
        if (!(isset($yZ["\145\x78\x70\151\x72\x65\163\137\151\x6e"]) && $yZ["\x65\x78\x70\151\x72\x65\x73\x5f\151\156"] !== '')) {
            goto pFl;
        }
        $this->expiry = time() + strtotime($yZ["\145\170\x70\x69\162\145\x73\x5f\x69\156"]);
        pFl:
        $this->refresh_token = $yZ["\162\145\x66\162\x65\x73\x68\137\x74\x6f\153\145\156"];
        VI9:
        return wp_remote_retrieve_body($Dx);
    }
    function getAccessToken($Yn, $ZW, $gv, $ea, $GK, $n6)
    {
        $Dx = $this->getToken($Yn, $ZW, $gv, $ea, $GK, $n6, '', '', true);
        $yZ = json_decode($Dx, true);
        if (isset($yZ["\x61\143\143\x65\x73\163\x5f\x74\157\x6b\x65\x6e"])) {
            goto qTI;
        }
        echo "\x49\x6e\166\x61\154\x69\144\x20\x72\145\163\x70\157\156\x73\x65\x20\x72\x65\x63\x65\151\x76\x65\144\x20\146\x72\x6f\155\40\x4f\101\x75\164\x68\40\x50\162\157\166\x69\x64\145\162\56\x20\103\157\x6e\x74\x61\143\164\x20\171\x6f\165\162\x20\141\x64\155\x69\x6e\151\163\164\162\141\164\x6f\x72\x20\146\x6f\x72\40\155\x6f\x72\145\40\x64\145\x74\x61\151\x6c\163\56\x3c\x62\162\x3e\74\x62\x72\x3e\x3c\x62\76\x52\x65\163\160\x6f\x6e\x73\145\40\x3a\x20\74\x2f\x62\x3e\74\x62\162\76" . $Dx;
        die;
        goto Zi3;
        qTI:
        return $yZ;
        Zi3:
    }
    function getIdToken($Yn, $ZW, $gv, $ea, $GK, $n6)
    {
        $Dx = $this->getToken($Yn, $ZW, $gv, $ea, $GK, $n6, '', '', true);
        $yZ = json_decode($Dx, true);
        if (isset($yZ["\x69\x64\137\x74\157\153\x65\x6e"])) {
            goto xqr;
        }
        echo "\111\156\x76\x61\154\x69\x64\x20\162\145\163\x70\157\156\x73\145\40\x72\145\143\145\x69\x76\145\x64\x20\146\162\157\155\40\x4f\160\145\x6e\x49\x64\x20\x50\x72\157\x76\x69\x64\x65\x72\x2e\40\x43\157\x6e\164\141\143\x74\40\x79\157\x75\x72\x20\141\x64\155\151\156\151\163\x74\x72\141\164\157\162\40\x66\157\162\x20\x6d\x6f\162\x65\x20\144\x65\164\141\151\154\163\x2e\x3c\x62\162\x3e\x3c\142\162\76\74\x62\x3e\122\145\163\x70\x6f\x6e\163\145\x20\x3a\40\74\x2f\x62\x3e\74\x62\162\x3e" . $Dx;
        die;
        goto OWF;
        xqr:
        return $yZ;
        OWF:
    }
    function getResourceOwnerFromIdToken($wu)
    {
        $yB = explode("\56", $wu);
        if (!isset($yB[1])) {
            goto Bfg;
        }
        $e3 = base64_decode($yB[1]);
        if (!is_array(json_decode($e3, true))) {
            goto BDY;
        }
        return json_decode($e3, true);
        BDY:
        Bfg:
        echo "\x49\x6e\166\141\154\x69\x64\40\x72\x65\163\x70\157\x6e\163\x65\40\162\x65\x63\x65\151\x76\x65\x64\x2e\74\x62\162\x3e\x3c\142\76\x49\x64\137\164\x6f\153\145\x6e\x20\72\x20\x3c\x2f\x62\x3e" . $wu;
        die;
    }
    function getResourceOwner($h8, $If)
    {
        if (!(mo_oauth_client_get_option("\155\x6f\x5f\157\x61\x75\x74\150\137\x63\x6c\x69\x65\x6e\x74\x5f\x65\x6e\141\142\154\x65\137\162\145\x66\x72\145\163\150\x5f\x74\x6f\153\145\x6e\x5f\147\162\141\x6e\x74") && $this->expiry && time() > $this->expiry)) {
            goto uYl;
        }
        return array("\x73\164\x61\x74\x75\163" => "\x64\145\143\154\x69\156\x65\x64", "\x65\x72\162\157\x72" => "\x61\143\x63\145\163\163\x5f\x74\157\x6b\x65\156\x5f\x65\x78\160\151\162\145\x64");
        uYl:
        $Dx = wp_remote_get($h8, array("\155\x65\x74\x68\157\x64" => "\x47\x45\x54", "\164\x69\x6d\145\x6f\165\x74" => 45, "\162\145\x64\151\x72\145\x63\164\x69\157\x6e" => 5, "\x68\x74\x74\x70\166\x65\x72\163\x69\157\x6e" => "\61\x2e\60", "\142\154\x6f\143\x6b\x69\x6e\x67" => true, "\150\x65\141\x64\145\162\x73" => mo_oauth_client_get_option("\x6d\157\x5f\157\141\x75\x74\150\137\143\154\x69\x65\156\164\x5f\x64\151\x73\x61\x62\x6c\145\137\141\165\164\x68\x6f\162\x69\x7a\141\164\x69\157\x6e\137\150\x65\141\144\145\x72") !== false ? array("\101\165\164\x68\x6f\162\x69\172\141\164\151\x6f\156" => "\102\145\141\x72\x65\x72\x20" . $If) : array(), "\x63\157\157\153\x69\145\163" => array(), "\x73\x73\154\x76\x65\162\151\x66\171" => false));
        $Dx = $Dx["\x62\157\x64\x79"];
        if (is_array(json_decode($Dx, true))) {
            goto pmW;
        }
        echo "\x49\x6e\x76\141\154\x69\144\40\x72\x65\x73\x70\157\156\163\x65\x20\162\x65\143\145\151\166\x65\x64\x20\147\145\164\x74\x69\x6e\147\40\162\145\163\157\x75\x72\143\145\x20\146\162\157\x6d\40\165\162\154\40" . $h8 . "\74\x62\x72\76\x3c\142\162\x3e";
        print_r($Dx);
        die;
        pmW:
        $yZ = json_decode($Dx, true);
        if (isset($yZ["\145\x72\162\x6f\x72\x5f\144\145\x73\143\x72\151\x70\x74\151\157\x6e"])) {
            goto pr4;
        }
        if (!isset($yZ["\x65\x72\x72\157\x72"])) {
            goto EGc;
        }
        print_r($yZ);
        var_dump($yZ["\x65\162\x72\157\162"]);
        die;
        EGc:
        goto BG0;
        pr4:
        print_r($yZ);
        var_dump($yZ["\x65\x72\162\157\x72\x5f\x64\x65\x73\x63\162\x69\160\164\151\x6f\x6e"]);
        die;
        BG0:
        return $yZ;
    }
    function getNewAccessToken($Yn, $gv, $ea)
    {
        if (isset($this->refresh_token)) {
            goto CCj;
        }
        wp_die("\x54\x6f\x6b\145\x6e\x20\x68\141\163\x20\105\170\x70\151\x72\x65\144\x2e\40\x50\x6c\x65\141\x73\145\x20\124\x72\x79\x20\x4c\x6f\x67\147\x69\156\147\40\151\x6e\x20\x41\x67\x61\151\156\56");
        CCj:
        $nc = array("\x41\x63\143\145\x70\x74" => "\x61\160\x70\154\151\143\141\x74\151\x6f\x6e\x2f\x6a\x73\157\156", "\143\x68\141\162\x73\x65\x74" => "\x55\x54\106\40\x2d\x20\x38", "\101\165\164\x68\157\162\x69\x7a\141\164\151\x6f\x6e" => "\x42\x61\x73\x69\143\x20" . base64_encode($gv . "\72" . $ea));
        $Dx = wp_remote_post($Yn, array("\x6d\x65\164\x68\x6f\144" => "\x50\x4f\123\x54", "\164\x69\155\145\157\165\164" => 45, "\162\145\144\x69\x72\145\143\164\151\157\x6e" => 5, "\x68\x74\164\x70\x76\x65\162\x73\x69\157\x6e" => "\61\56\60", "\142\x6c\157\143\153\151\156\x67" => true, "\x68\x65\x61\144\x65\x72\x73" => $nc, "\x62\x6f\x64\x79" => array("\147\x72\x61\156\164\x5f\x74\x79\x70\145" => "\162\145\146\x72\x65\163\x68\x5f\164\x6f\153\145\156", "\143\154\x69\x65\x6e\x74\x5f\x69\x64" => $gv, "\143\154\x69\145\156\x74\137\x73\145\x63\162\x65\164" => $ea, "\162\145\x66\x72\145\163\150\137\x74\157\x6b\145\x6e" => $this->refresh_token), "\143\x6f\157\x6b\x69\145\163" => array(), "\163\163\x6c\166\x65\162\x69\146\171" => false));
        $Dx = $Dx["\142\157\x64\171"];
        if (is_array(json_decode($Dx, true))) {
            goto Pk4;
        }
        echo "\74\x62\x3e\122\x65\163\x70\x6f\156\x73\x65\40\72\x20\74\x2f\142\x3e\x3c\142\x72\x3e";
        print_r($Dx);
        echo "\x3c\142\x72\76\74\x62\162\76";
        die("\111\156\x76\x61\154\151\144\x20\162\145\x73\160\x6f\x6e\x73\x65\40\162\145\x63\x65\151\x76\x65\x64\x2e");
        Pk4:
        $yZ = json_decode($Dx, true);
        if (isset($yZ["\x65\x72\x72\x6f\162\137\x64\145\x73\143\x72\151\x70\164\x69\157\x6e"])) {
            goto uQh;
        }
        if (isset($yZ["\145\x72\x72\157\x72"])) {
            goto y7q;
        }
        if (isset($yZ["\141\x63\x63\145\x73\x73\137\x74\157\x6b\x65\x6e"])) {
            goto csn;
        }
        echo "\74\x62\x3e\122\145\163\160\x6f\156\163\145\x20\72\x20\74\x2f\142\76\x3c\142\162\76";
        print_r($yZ);
        echo "\74\142\162\76\74\x62\162\76";
        die("\x49\x6e\166\141\154\151\144\x20\162\145\x73\160\157\156\x73\145\x20\x72\x65\143\145\151\166\145\144\40\146\x72\157\x6d\x20\x4f\101\165\164\x68\40\x50\x72\157\x76\151\144\x65\162\56\40\103\x6f\x6e\164\141\x63\164\x20\x79\157\x75\162\40\x61\x64\x6d\x69\156\151\x73\164\162\x61\164\x6f\162\x20\x66\157\x72\x20\155\x6f\162\x65\x20\144\145\x74\x61\x69\154\163\x2e");
        goto u36;
        csn:
        $If = $yZ["\x61\143\143\x65\163\163\x5f\164\157\153\145\x6e"];
        u36:
        goto Z6N;
        y7q:
        die($yZ["\x65\x72\x72\x6f\162"]);
        Z6N:
        goto Elo;
        uQh:
        die($yZ["\x65\162\x72\157\162\x5f\144\145\x73\x63\162\151\x70\x74\x69\x6f\156"]);
        Elo:
        if (!(isset($yZ["\162\x65\x66\x72\x65\163\x68\137\x74\x6f\x6b\x65\156"]) && $yZ["\x72\x65\146\x72\145\163\x68\x5f\x74\x6f\153\145\156"] !== '')) {
            goto dd2;
        }
        if (!(isset($yZ["\x65\x78\160\151\162\x65\x73\137\x69\156"]) && $yZ["\x65\x78\160\x69\162\x65\163\x5f\x69\156"] !== '')) {
            goto qBg;
        }
        $this->expiry = time() + strtotime($yZ["\145\x78\160\x69\x72\145\x73\137\151\x6e"]);
        $this->refresh_token = $yZ["\162\x65\146\162\145\163\x68\x5f\164\157\x6b\x65\x6e"];
        qBg:
        dd2:
        return $If;
    }
    function getRefreshToken($Yn, $ZW, $gv, $ea, $aH, $n6)
    {
        $nc = array("\101\x63\x63\145\160\x74" => "\x61\x70\160\x6c\x69\x63\x61\164\151\x6f\156\x2f\x6a\x73\157\156", "\143\150\141\x72\x73\x65\164" => "\125\124\106\40\55\x20\x38", "\101\165\164\x68\x6f\162\151\172\x61\x74\151\157\156" => "\102\141\x73\151\143\x20" . base64_encode($gv . "\72" . $ea));
        $Dx = wp_remote_post($Yn, array("\x6d\145\x74\x68\x6f\x64" => "\x50\x4f\x53\124", "\164\151\155\145\157\x75\x74" => 45, "\x72\145\144\x69\x72\145\143\164\x69\x6f\x6e" => 5, "\x68\x74\x74\x70\166\x65\x72\163\151\x6f\156" => "\x31\x2e\x30", "\142\154\157\143\x6b\151\156\147" => true, "\x68\145\x61\x64\x65\x72\x73" => $nc, "\x62\x6f\144\x79" => array("\x67\162\x61\x6e\164\x5f\x74\x79\x70\x65" => "\162\145\x66\x72\145\163\150\x5f\164\157\x6b\x65\x6e", "\162\145\x64\151\162\145\143\x74\x5f\165\x72\x69" => $n6, "\162\x65\x66\162\x65\163\x68\137\164\x6f\153\x65\x6e" => $this->refresh_token), "\143\157\157\153\151\x65\163" => array(), "\163\163\154\x76\145\162\151\x66\x79" => false));
        $Dx = $Dx["\142\x6f\144\x79"];
        if (is_array(json_decode($Dx, true))) {
            goto KnE;
        }
        echo "\x3c\x62\x3e\122\145\x73\x70\x6f\x6e\x73\145\x20\x3a\x20\x3c\57\x62\76\x3c\142\162\76";
        print_r($Dx);
        echo "\74\x62\162\76\74\x62\162\76";
        die("\x49\x6e\166\141\154\x69\x64\40\162\145\163\x70\157\156\163\145\x20\162\145\143\145\x69\x76\145\144\x2e");
        KnE:
        $yZ = json_decode($Dx, true);
        if (isset($yZ["\x65\x72\162\157\162\x5f\144\145\x73\x63\x72\151\160\x74\x69\x6f\156"])) {
            goto SGD;
        }
        if (!isset($yZ["\x65\x72\x72\x6f\162"])) {
            goto zr7;
        }
        die($yZ["\x65\x72\x72\157\x72"]);
        zr7:
        goto ZIe;
        SGD:
        die($yZ["\x65\x72\x72\x6f\162\137\144\x65\163\x63\162\x69\160\x74\151\x6f\156"]);
        ZIe:
        if (is_array(json_decode($Dx, true))) {
            goto kam;
        }
        return $Dx;
        kam:
        $yZ = json_decode($Dx, true);
        return $yZ;
    }
}
?>
